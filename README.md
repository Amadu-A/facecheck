# Face Verify
facecheck from web-app

๐ฆ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ
```commandline

mlface_verify/
โโโ manage.py
โโโ requirements.txt
โโโ README.md
โโโ .env.example
โโโ weights/                      # ััะดะฐ ะบะปะฐะดัะผ .pt ะธ .onnx
โโโ mlface_verify/
โ   โโโ __init__.py
โ   โโโ settings.py
โ   โโโ urls.py
โ   โโโ asgi.py
โ   โโโ wsgi.py
โ   โโโ logging_config.py
โ   โโโ logging_handlers.py
โ   โโโ decorators.py
โ   โโโ filters.py
โโโ verification/
โ   โโโ __init__.py
โ   โโโ apps.py
โ   โโโ urls.py
โ   โโโ forms.py
โ   โโโ views.py
โ   โโโ services/
โ   โ   โโโ __init__.py
โ   โ   โโโ image_io.py
โ   โ   โโโ yolo_face_detector.py
โ   โ   โโโ face_embedder.py
โ   โ   โโโ matcher.py
โ   โโโ templates/verification/index.html
โ   โโโ static/verification/main.css
โ   โโโ static/verification/main.js
โ   โโโ tests/
โ       โโโ test_services.py
โ       โโโ test_views.py
โ       โโโ data/ (ะฟัััะฐั ะฟะฐะฟะบะฐ ะฟะพะด ัะตัั-ะดะฐะฝะฝัะต)
โโโ scripts/
    โโโ download_weights.py
```

# ML Face Verify (Django)

ะขะตััะพะฒะพะต ะฟัะธะปะพะถะตะฝะธะต ะดะปั ะฒะตัะธัะธะบะฐัะธะธ ะฟะพะปัะทะพะฒะฐัะตะปั ะฟะพ ัะพัะพ ะดะพะบัะผะตะฝัะฐ (ะฟะฐัะฟะพัั/ะฟัะฐะฒะฐ) ะธ ัะตะปัะธ.

## ะะพะทะผะพะถะฝะพััะธ
- ะะฐะณััะทะบะฐ ัะพัะพ ะดะพะบัะผะตะฝัะฐ
- ะกะฝััะธะต ัะตะปัะธ ั ะฒะตะฑ-ะบะฐะผะตัั (ะธะปะธ ะทะฐะณััะทะบะฐ ะธะท ัะฐะนะปะฐ)
- ะะตัะตะบัะธั ะปะธั ะฝะฐ ะฑะฐะทะต **YOLOv11**
- ะกะพะฟะพััะฐะฒะปะตะฝะธะต ะปะธั (ArcFace-ัะพะฒะผะตััะธะผัะต ัะผะฑะตะดะดะธะฝะณะธ, **ONNX Runtime** GPU/CPU)
- MLflow-ะปะพะณะธัะพะฒะฐะฝะธะต ะผะตััะธะบ/ะฐััะตัะฐะบัะพะฒ (ะพะฟัะธะพะฝะฐะปัะฝะพ)
- ะัะพัะตััะธะพะฝะฐะปัะฝะพะต ะปะพะณะธัะพะฒะฐะฝะธะต (JSON-ัะพัะผะฐั, ัะพัะฐัะธั ะฟะพ ะฒัะตะผะตะฝะธ/ัะฐะทะผะตัั, ัะฐะทะดะตะปัะฝัะต ัะฐะนะปั ะพัะธะฑะพะบ/ะพะฑัะธั ะปะพะณะพะฒ)

## ะฃััะฐะฝะพะฒะบะฐ

```bash
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install --upgrade pip
pip install -r requirements.txt
cp .env.example .env
mkdir -p weights media/crops
```

๐ง ะะปะณะพัะธัะผ ะฒะตัะธัะธะบะฐัะธะธ (ะบะพัะพัะบะพ)

ะะพะปัะทะพะฒะฐัะตะปั ะทะฐะณััะถะฐะตั ะธะทะพะฑัะฐะถะตะฝะธะต ะดะพะบัะผะตะฝัะฐ (ะฟะฐัะฟะพัั, ะฟัะฐะฒะฐ ะธ ั.ะฟ.) ะธ ะดะตะปะฐะตั ัะตะปัะธ ัะตัะตะท ะบะฐะผะตัั.

ะัะบะตะฝะด ั ะฟะพะผะพััั YOLO v11 (ะฒะตัะฐ ะฟะพะด ะดะตัะตะบัะธั ะปะธัะฐ ะฒ ะดะพะบัะผะตะฝัะต) ะฝะฐัะพะดะธั ะฟะพัััะตัะฝัั ะพะฑะปะฐััั ะฝะฐ ะดะพะบัะผะตะฝัะต ะธ ะฒััะตะทะฐะตั ะตั.

ะะปั ะบัะพะฟะฐ ะธะท ะดะพะบัะผะตะฝัะฐ ะธ ะดะปั ัะตะปัะธ ะธะทะฒะปะตะบะฐะตะผ ัะผะฑะตะดะดะธะฝะณะธ ArcFace (InsightFace), ะฝะพัะผะฐะปะธะทัะตะผ ะธ ััะธัะฐะตะผ cosine distance.

ะกัะฐะฒะฝะธะฒะฐะตะผ ั ะฟะพัะพะณะพะผ (ะฟะพ ัะผะพะปัะฐะฝะธั cosine_distance โค 0.35) ะธ ะฒะพะทะฒัะฐัะฐะตะผ: ยซะะตัะธัะธะบะฐัะธั ะฟัะพะนะดะตะฝะฐ / ะฝะต ะฟัะพะนะดะตะฝะฐยป + ะผะตััะธะบะธ.

ะัะปะธ YOLO ะฝะต ะฝะฐััะป ะพะฑะปะฐััั, ััะฐะฑะฐััะฒะฐะตั fallback: ะฟะพะฒัะพัะฝะฐั ะดะตัะตะบัะธั ะปะธั InsightFace ะฝะฐ ะฟะพะปะฝะพะผ ะธะทะพะฑัะฐะถะตะฝะธะธ (ะผัะณะบะฐั ะดะตะณัะฐะดะฐัะธั).


๐ง ะะฝััััะผะตะฝัั

Django 4.2 โ ะฑัััััะน ััะฐัั, ะบะปะฐััโะฑะตะนะทะตะด ะฒัััะธ, ัะพัะผั, ััะฐัะธะบะฐ, ัะฐะฑะปะพะฝั.

YOLO v11 (Ultralytics) โ ะดะตัะตะบัะธั ะฟะพัััะตัะฐ ะฝะฐ ะดะพะบัะผะตะฝัะต (ะฒะตัะฐ ัะบะฐะทัะฒะฐัััั ัะตัะตะท YOLO_WEIGHTS).

InsightFace + ONNX Runtime โ ัะผะฑะตะดะดะธะฝะณะธ ArcFace, ัะพัะฝะพะต ััะฐะฒะฝะตะฝะธะต ะปะธั.

OpenCV, Pillow, NumPy โ ัะฐะฑะพัะฐ ั ะธะทะพะฑัะฐะถะตะฝะธัะผะธ.

ะัะพัะตััะธะพะฝะฐะปัะฝัะน ะปะพะณะณะตั โ JSONโะฐะดะฐะฟัะตั, ัะพัะฐัะธั ะฟะพ ะฒัะตะผะตะฝะธ/ัะฐะทะผะตัั, ะพัะดะตะปัะฝัะต ัะฐะนะปั ะดะปั ะพัะธะฑะพะบ ะธ ะพะฑัะตะณะพ ะปะพะณะฐ, HTTPโะบะพะปะปะตะบัะพั, ะดะตะบะพัะฐัะพัั ะดะปั ะฐะฒัะพะปะพะณะธัะพะฒะฐะฝะธั ะฒัะทะพะฒะพะฒ.

MLflow (ะพะฟัะธะพะฝะฐะปัะฝะพ) โ ะผะตััะธะบะธ/ะฐััะตัะฐะบัั/ัะบัะฟะตัะธะผะตะฝัั.

Kubeflow/KServe (ะพะฟัะธะพะฝะฐะปัะฝะพ) โ ะฟัะพะดะฐะบัะฝโะดะตะฟะปะพะน inferenceโัะตัะฒะธัะฐ ะพัะดะตะปัะฝะพ ะพั Django: ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะต, A/B, ะฐะฒัะพัะบะตะนะป, ััะตะนัะธะฝะณ.



๐ ะัััััะน ััะฐัั

```commandline
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install -r requirements.txt

# ะะฝะธัะธะฐะปะธะทะฐัะธั Django
python manage.py migrate
python manage.py runserver
```